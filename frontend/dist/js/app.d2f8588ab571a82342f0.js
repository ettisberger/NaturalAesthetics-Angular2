webpackJsonp([0],{0:function(t,e,n){"use strict";var o=n(1),r=n(97),i=(n(176),n(280)),s=n(181),a=n(312),c=n(333),u=[];o.enableProdMode(),r.bootstrap(c.AppComponent,a.HTTP_PROVIDERS.concat(i.ROUTER_PROVIDERS,u,[{provide:s.LocationStrategy,useClass:s.HashLocationStrategy}]))["catch"](function(t){return console.error(t)})},333:function(t,e,n){"use strict";var o=n(1),r=n(334),i=n(280),s=function(){function t(){}return t=__decorate([o.Component({selector:"my-na-app",template:n(352),directives:[r.HeaderComponent,r.FooterComponent,i.ROUTER_DIRECTIVES]}),i.RouteConfig([{path:"/page/:id",name:"Page",component:r.PageComponent}]),__metadata("design:paramtypes",[])],t)}();e.AppComponent=s},334:function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(335)),o(n(336)),o(n(344)),o(n(346)),o(n(345)),o(n(347)),o(n(348)),o(n(351)),o(n(349))},335:function(t,e,n){"use strict";var o=n(1),r=function(){function t(){}return __decorate([o.Input(),__metadata("design:type",Array)],t.prototype,"boxes",void 0),t=__decorate([o.Component({selector:"boxes",template:"\n        <div>Boxes</div>\n  "}),__metadata("design:paramtypes",[])],t)}();e.BoxComponent=r},336:function(t,e,n){"use strict";var o=n(1),r=n(312),i=n(280),s=n(337),a=function(){function t(t){this.wordpressService=t}return t.prototype.ngOnInit=function(){this.getFooter()},t.prototype.getFooter=function(){var t=this;this.wordpressService.getFooter().subscribe(function(e){t.footer=e,t.wordpressService.getMenu().subscribe(function(n){t.mapPageIds(e,n)},function(e){return t.errorMessage=e})},function(e){return t.errorMessage=e})},t.prototype.mapPageIds=function(t,e){e.forEach(function(e){t.columnLeft.pageIds.forEach(function(n){n===e.object_id&&t.columnLeft.pages.push(e)})}),t.columnLeft.pages.sort(function(t,e){return t.order-e.order})},t=__decorate([o.Component({selector:"footer",template:'\n        <div class="na-inlay">\n            <div class="na-row na-row-large-vspace">\n                <div class="na-column-3">\n                    <div class="na-footer-box">\n                        <div class="na-footer-box-title">{{ footer?.columnLeft?.title }}</div>\n                        <div class="na-footer-box-content">\n                            <ul>\n                                <li *ngFor="let page of footer?.columnLeft?.pages">\n                                      <a [routerLink]="[\'/Page\', {id: page?.title | lowercase}]">{{ page?.title }}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div class="na-column-3">\n                    <div class="na-footer-box">\n                        <div class="na-footer-box-title">{{ footer?.columnCenter?.title }}</div>\n                        <div class="na-footer-box-content" [innerHTML]="footer?.columnCenter?.contact"></div>\n                    </div>\n                </div>\n                <div class="na-column-6">\n                    <div class="na-footer-box">\n                        <div class="na-footer-box-title">{{ footer?.columnRight?.title }}</div>\n                        <div class="na-footer-box-content" [innerHTML]="footer?.columnRight?.description">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n  ',directives:[i.ROUTER_DIRECTIVES],providers:[s.WordpressService,r.HTTP_PROVIDERS]}),__metadata("design:paramtypes",[s.WordpressService])],t)}();e.FooterComponent=a},337:function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n(338)),o(n(340))},338:function(t,e,n){"use strict";var o=n(1),r=n(339),i=n(339),s=function(){function t(){}return t.prototype.getSections=function(t){var e=[],n=t.split(i.SectionCode.SECTION.code);return n.forEach(function(t){var n=new r.Section;n.setChildren(this.getChildren(t)),e.push(n)},this),e},t.prototype.getChildren=function(t){var e=new Map;return t.search(i.SectionCode.PRODUCT.regex)>0?e=this.splitBySectionCode(t,i.SectionCode.PRODUCT):t.search(i.SectionCode.LINK.regex)>0?e=this.splitBySectionCode(t,i.SectionCode.LINK):e.set(i.SectionCode.TEXT.code,t),e},t.prototype.splitBySectionCode=function(t,e){var n=new Map,o=t.split(e.regex);return n.set(i.SectionCode.TEXT.code,o[0]),n.set(e.code,o[1]),n.set(i.SectionCode.TEXT.code,o[2]),n},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.ComponentService=s},339:function(t,e){"use strict";var n=function(){function t(){}return t.prototype.getChildren=function(){return this.sectionMap},t.prototype.setChildren=function(t){this.sectionMap=t},t}();e.Section=n;var o=function(){function t(){}return t.SECTION={code:"[abschnitt]",regex:new RegExp("(\\[abschnitt.*\\])")},t.TEXT={code:"[text]",regex:new RegExp("(\\[text.*\\])")},t.PRODUCT={code:"[produkte]",regex:new RegExp("(\\[produkte.*\\])")},t.LINK={code:"[links]",regex:new RegExp("(\\[links.*\\])")},t}();e.SectionCode=o},340:function(t,e,n){"use strict";var o=n(1),r=n(312),i=n(341),s=n(342),a=n(35),c=n(343),u=function(){function t(t){this.http=t,this.baseUrl="http://localhost:8090/wp-json",this.menuUrl="/wp-api-menus/v2/menu-locations",this.acfUrl="/acf/v2",this.wpUrl="/wp/v2"}return t.prototype.getMenu=function(){return this.http.get(this.baseUrl+this.menuUrl+"/primary").map(function(t){return t.json()})["catch"](this.handleError)},t.prototype.getProducts=function(){return this.http.get(this.baseUrl+this.acfUrl+"/options/products").map(function(t){return t.json().products})["catch"](this.handleError)},t.prototype.getLinks=function(){return this.http.get(this.baseUrl+this.acfUrl+"/options/links").map(function(t){return t.json().links}).map(function(t){var e=[];return t.forEach(function(t){e.push(new c.Link(t))}),e})["catch"](this.handleError)},t.prototype.getPages=function(){return this.http.get(this.baseUrl+this.wpUrl+"/pages").map(function(t){return t.json()}).map(function(t){var e=[];return t.forEach(function(t){e.push(new i.Page(t))}),e})["catch"](this.handleError)},t.prototype.getPage=function(t){return this.http.get(this.baseUrl+this.wpUrl+"/pages?filter[name]="+t).map(function(t){return t.json()}).map(function(t){return new i.Page(t[0])})["catch"](this.handleError)},t.prototype.getFooter=function(){return this.http.get(this.baseUrl+this.acfUrl+"/options/footer").map(function(t){return t.json().footer[0]}).map(function(t){return new s.Footer(t)})["catch"](this.handleError)},t.prototype.handleError=function(t){return console.error(t),a.Observable["throw"](t.json().error||"Server error")},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[r.Http])],t)}();e.WordpressService=u},341:function(t,e){"use strict";var n=function(){function t(t){this.id=t.id,this.date=t.date,this.dateGmt=t.date_gmt,this.modifiedGmt=t.modified_gmt,this.slug=t.slug,this.type=t.type,this.link=t.link,this.title=t.title.rendered,this.content=t.content.rendered,this.pagedata={},this.pagedata.title=t.acf.title,this.pagedata.slogan=t.acf.slogan,this.pagedata.imageUrl=t.acf.image}return t}();e.Page=n;(function(){function t(){}return t})()},342:function(t,e){"use strict";var n=function(){function t(t){this.columnLeft={},this.columnLeft.title=t.column_left_title,this.columnLeft.pageIds=t.column_left_navigation_general,this.columnLeft.pages=[],this.columnCenter={},this.columnCenter.title=t.column_center_title,this.columnCenter.contact=t.column_center_contact,this.columnRight={},this.columnRight.title=t.column_right_title,this.columnRight.description=t.column_right_description,this.columnRight.imageUrl=t.column_right_image}return t}();e.Footer=n},343:function(t,e){"use strict";var n=function(){function t(t){this.name=t.link_name,this.url=t.link_url,this.imageUrl=t.link_image}return t}();e.Link=n},344:function(t,e,n){"use strict";var o=n(1),r=n(345),i=function(){function t(){}return t=__decorate([o.Component({selector:"header",template:'\n        <div class="na-row">\n            <div class="na-column-6">\n                <a href="/"><img class="na-main-header-logo" src="../../assets/images/logo_small.png" /></a>\n            </div>\n            <div class="na-column-6">\n                <navigation class="na-main-navigation"></navigation>\n            </div>\n        </div>\n  ',directives:[r.NavigationComponent]}),__metadata("design:paramtypes",[])],t)}();e.HeaderComponent=i},345:function(t,e,n){"use strict";var o=n(1),r=n(312),i=n(280),s=n(337),a=function(){function t(t,e){this.router=t,this.wordpressService=e}return t.prototype.ngOnInit=function(){this.getMenu()},t.prototype.getMenu=function(){var t=this;this.wordpressService.getMenu().subscribe(function(e){t.menuItems=e,t.router.navigate(["Page",{id:t.menuItems[0].title.toLowerCase()}])},function(e){return t.errorMessage=e})},t=__decorate([o.Component({selector:"navigation",template:'\n  <ul>\n    <li class="navigation-item" *ngFor="let menuItem of menuItems">\n      <a [routerLink]="[\'/Page\', {id: menuItem.title | lowercase}]">{{ menuItem?.title }}</a>\n    </li>\n  </ul>\n  ',directives:[i.ROUTER_DIRECTIVES],providers:[s.WordpressService,r.HTTP_PROVIDERS]}),__metadata("design:paramtypes",[i.Router,s.WordpressService])],t)}();e.NavigationComponent=a},346:function(t,e,n){"use strict";var o=n(1),r=function(){function t(){}return __decorate([o.Input(),__metadata("design:type",Array)],t.prototype,"links",void 0),t=__decorate([o.Component({selector:"links",template:"\n        <div>Links</div>\n        <!--<div>Links {{ links.length }}</div>-->\n  "}),__metadata("design:paramtypes",[])],t)}();e.LinkComponent=r},347:function(t,e,n){"use strict";var o=n(1),r=n(280),i=n(312),s=n(337),a=n(348),c=n(349),u=function(){function t(t,e,n){this.routerParams=t,this.wordpressService=e,this.componentService=n}return t.prototype.ngOnInit=function(){var t=this.routerParams.get("id");this.getPage(t)},t.prototype.getPage=function(t){var e=this;this.wordpressService.getPage(t).subscribe(function(t){e.page=t;var n=e.componentService.getSections(t.content);e.loadSectionTemplates(n)},function(t){return e.errorMessage=t})},t.prototype.loadSectionTemplates=function(t){},t=__decorate([o.Component({selector:"page",template:'\n        <pageheader #sections [page] = "page" ></pageheader>\n\n    ',providers:[s.WordpressService,s.ComponentService,i.HTTP_PROVIDERS],directives:[a.PageHeaderComponent,c.SectionComponent]}),__metadata("design:paramtypes",[r.RouteParams,s.WordpressService,s.ComponentService])],t)}();e.PageComponent=u},348:function(t,e,n){"use strict";var o=n(1),r=n(341),i=function(){function t(){}return __decorate([o.Input(),__metadata("design:type",r.Page)],t.prototype,"page",void 0),t=__decorate([o.Component({selector:"pageheader",template:"\n        <div class=\"na-page-header\">\n            <div class=\"na-page-image\" [ngStyle]=\"{'background-image':'url(' + page?.pagedata?.imageUrl +')'}\"></div>\n        </div>\n  "}),__metadata("design:paramtypes",[])],t)}();e.PageHeaderComponent=i},349:function(t,e,n){"use strict";var o=n(1),r=n(339),i=n(339),s=n(346),a=n(350),c=function(){function t(t,e,n){this.dcl=t,this.elementRef=e,this.filter=n}return t.prototype.ngOnInit=function(){this.section.getChildren().forEach(function(t,e){e===i.SectionCode.TEXT.code?this.sectionContent=t:e===i.SectionCode.PRODUCT.code||e===i.SectionCode.LINK.code&&this.dcl.loadIntoLocation(s.LinkComponent,this.elementRef,"childs")},this)},__decorate([o.Input(),__metadata("design:type",r.Section)],t.prototype,"section",void 0),t=__decorate([o.Component({selector:"section",host:{"class":"na-section"},template:'\n        <div class="na-inlay">\n            <div #childs [innerHTML] = "sectionContent"></div>\n        </div>\n    ',providers:[a.FilterUtil]}),__metadata("design:paramtypes",[o.DynamicComponentLoader,o.ElementRef,a.FilterUtil])],t)}();e.SectionComponent=c},350:function(t,e,n){"use strict";var o=n(1),r=function(){function t(){}return t.prototype.parseIds=function(t){return this.parseAttribute(t,"ids")},t.prototype.filterProductsByIds=function(t,e){return 0===e.length||""===e[0]?t:t.filter(function(t){return-1!==e.indexOf(t.id+"")})},t.prototype.parseAttribute=function(t,e){var n=new RegExp(e+"=([\\d,]*)"),o=n.exec(t);return null!==o?o[1].split(","):[]},t=__decorate([o.Injectable(),__metadata("design:paramtypes",[])],t)}();e.FilterUtil=r},351:function(t,e,n){"use strict";var o=n(1),r=n(312),i=n(337),s=n(350),a=function(){function t(t,e){this.wordpressService=t,this.filter=e}return t.prototype.ngOnInit=function(){this.loadProducts()},t.prototype.loadProducts=function(){var t=this;this.wordpressService.getProducts().subscribe(function(e){t.products=t.filter.filterProductsByIds(e,t.ids)},function(e){return t.errorMessage=e})},t=__decorate([o.Component({selector:"products",template:"\n      <ul>\n        <li *ngFor='#product of products'>\n          {{ product.name }}\n        </li>\n      </ul>\n  ",providers:[i.WordpressService,r.HTTP_PROVIDERS,s.FilterUtil]}),__metadata("design:paramtypes",[i.WordpressService,s.FilterUtil])],t)}();e.ProductsComponent=a},352:function(t,e){t.exports='<header class="na-main-header-desktop"></header>\n<router-outlet></router-outlet>\n<footer class="na-main-footer"></footer>\n'}});
//# sourceMappingURL=app.d2f8588ab571a82342f0.js.map